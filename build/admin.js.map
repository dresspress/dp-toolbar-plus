{"version":3,"file":"admin.js","mappings":"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","sources":["webpack://dp-admin-pro/./src/scss/admin.scss","webpack://dp-admin-pro/external [\"wp\",\"api\"]","webpack://dp-admin-pro/external [\"wp\",\"components\"]","webpack://dp-admin-pro/external [\"wp\",\"data\"]","webpack://dp-admin-pro/external [\"wp\",\"domReady\"]","webpack://dp-admin-pro/external [\"wp\",\"element\"]","webpack://dp-admin-pro/external [\"wp\",\"i18n\"]","webpack://dp-admin-pro/external [\"wp\",\"notices\"]","webpack://dp-admin-pro/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://dp-admin-pro/webpack/bootstrap","webpack://dp-admin-pro/webpack/runtime/compat get default export","webpack://dp-admin-pro/webpack/runtime/define property getters","webpack://dp-admin-pro/webpack/runtime/hasOwnProperty shorthand","webpack://dp-admin-pro/webpack/runtime/make namespace object","webpack://dp-admin-pro/./src/admin.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"api\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"domReady\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"notices\"];","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import './scss/admin.scss';\n\nimport domReady from '@wordpress/dom-ready';\n\nimport api from '@wordpress/api';\n\nimport { __ } from '@wordpress/i18n';\n\nimport {\n\tButton,\n\tPanel,\n\tPanelBody,\n\tSelectControl,\n\tSnackbarList,\n\tCheckboxControl,\n\tFormTokenField,\n\t__experimentalHStack as HStack,\n} from '@wordpress/components';\n\nimport { dispatch, useDispatch, useSelect } from '@wordpress/data';\n\nimport { Fragment, render, Component, useState } from '@wordpress/element';\n\nimport { store as noticesStore } from '@wordpress/notices';\n\nconst Notices = () => {\n\tconst notices = useSelect(\n\t\t(select) =>\n\t\t\tselect(noticesStore)\n\t\t\t\t.getNotices()\n\t\t\t\t.filter((notice) => {\n\t\t\t\t\treturn notice.type === 'snackbar';\n\t\t\t\t}),\n\t\t[]\n\t);\n\n\tconst { removeNotice } = useDispatch(noticesStore);\n\n\treturn (\n\t\t<SnackbarList\n\t\t\tclassName=\"dp-toolbar-settings-notices\"\n\t\t\tnotices={notices}\n\t\t\tonRemove={removeNotice}\n\t\t/>\n\t);\n};\n\nvar roleOptions = [];\nvar capList = [];\n\nvar settings = dpAdminBarSettings;\nvar roles = dpAdminBarSettings.roles;\n\nfor (const [option, role] of Object.entries(roles)) {\n\troleOptions.push({ label: role.name, value: option });\n\tcapList = capList.concat(Object.keys(role.capabilities));\n}\n\ncapList = _.uniq(capList);\n\nconst DisplayRule = ({\n\tlabel = '',\n\tonChange,\n\tactive = false,\n\taction = '',\n\tlogged_in = false,\n\tnot_logged_in = true,\n\troles = [],\n\tcaps = [],\n\tscope = '',\n}) => {\n\treturn (\n\t\t<>\n\t\t\t<CheckboxControl\n\t\t\t\tlabel={__(\n\t\t\t\t\t'Enable display rule for front-end Toolbar',\n\t\t\t\t\t'dp-toolbar'\n\t\t\t\t)}\n\t\t\t\tchecked={active}\n\t\t\t\tonChange={(active) => {\n\t\t\t\t\tonChange({ active });\n\t\t\t\t}}\n\t\t\t/>\n\n\t\t\t{active && (\n\t\t\t\t<div className=\"dp-toolbar-display-rule\">\n\t\t\t\t\t<HStack align=\"center\" justify=\"flex-start\">\n\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\tlabelPosition=\"side\"\n\t\t\t\t\t\t\tvalue={action}\n\t\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: __('Show Toolbar', 'dp-toolbar'),\n\t\t\t\t\t\t\t\t\tvalue: 'show',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: __('Hide Toolbar', 'dp-toolbar'),\n\t\t\t\t\t\t\t\t\tvalue: 'hide',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\tonChange={(action) => {\n\t\t\t\t\t\t\t\tonChange({ action });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\tlabelPosition=\"side\"\n\t\t\t\t\t\t\tvalue={scope}\n\t\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: __('for all users', 'dp-toolbar'),\n\t\t\t\t\t\t\t\t\tvalue: 'all',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: __(\n\t\t\t\t\t\t\t\t\t\t'for all users except administrators',\n\t\t\t\t\t\t\t\t\t\t'dp-toolbar'\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tvalue: 'not_admins',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: __(\n\t\t\t\t\t\t\t\t\t\t'for logged in users',\n\t\t\t\t\t\t\t\t\t\t'dp-toolbar'\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tvalue: 'logged_in',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: __(\n\t\t\t\t\t\t\t\t\t\t'for non-logged in users',\n\t\t\t\t\t\t\t\t\t\t'dp-toolbar'\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tvalue: 'not_logged_in',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: __(\n\t\t\t\t\t\t\t\t\t\t'for custom user scope',\n\t\t\t\t\t\t\t\t\t\t'dp-toolbar'\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tvalue: 'custom',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\tonChange={(scope) => {\n\t\t\t\t\t\t\t\tonChange({ scope });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</HStack>\n\n\t\t\t\t\t{scope == 'custom' && (\n\t\t\t\t\t\t<div className=\"dp-toolbar-custom-scope\">\n\t\t\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\t\t\tlabel={__(\n\t\t\t\t\t\t\t\t\t'All non-logged in users',\n\t\t\t\t\t\t\t\t\t'dp-toolbar'\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\tchecked={not_logged_in}\n\t\t\t\t\t\t\t\tonChange={(not_logged_in) => {\n\t\t\t\t\t\t\t\t\tonChange({ not_logged_in });\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\t\t\tlabel={__('All logged in users ', 'dp-toolbar')}\n\t\t\t\t\t\t\t\tchecked={logged_in}\n\t\t\t\t\t\t\t\tonChange={(logged_in) => {\n\t\t\t\t\t\t\t\t\tonChange({ logged_in });\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t{logged_in && (\n\t\t\t\t\t\t\t\t<div className=\"dp-toolbar-roles-control\">\n\t\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t\t{__(\n\t\t\t\t\t\t\t\t\t\t\t'with one of selected roles:',\n\t\t\t\t\t\t\t\t\t\t\t'dp-toolbar'\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t\t\t\t<div className=\"dp-toolbar-roles-option-list\">\n\t\t\t\t\t\t\t\t\t\t{roleOptions.map((role, index) => {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={role.label}\n\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={roles.includes(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trole.value\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={role.value}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(state) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\troles = state\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? _.union(roles, [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trole.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  ])\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: _.without(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\troles,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trole.value\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  );\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange({ roles });\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{logged_in && (\n\t\t\t\t\t\t\t\t<div className={'dp-toolbar-caps-control'}>\n\t\t\t\t\t\t\t\t\t<FormTokenField\n\t\t\t\t\t\t\t\t\t\tlabel={__(\n\t\t\t\t\t\t\t\t\t\t\t'AND have one of selected capabilities:',\n\t\t\t\t\t\t\t\t\t\t\t'textdomai'\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\tvalue={caps}\n\t\t\t\t\t\t\t\t\t\tplaceholder={__('e.g. manage_options')}\n\t\t\t\t\t\t\t\t\t\tsuggestions={capList}\n\t\t\t\t\t\t\t\t\t\ttokenizeOnSpace={true}\n\t\t\t\t\t\t\t\t\t\tonChange={(caps) => {\n\t\t\t\t\t\t\t\t\t\t\tonChange({ caps });\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t__experimentalExpandOnFocus={true}\n\t\t\t\t\t\t\t\t\t\t__experimentalValidateInput={(\n\t\t\t\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t\t\t\t) => {\n\t\t\t\t\t\t\t\t\t\t\treturn capList.includes(value);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nclass Page extends Component {\n\tconstructor() {\n\t\tsuper(...arguments);\n\n\t\tconst defaultRule = {\n\t\t\tactive: false,\n\t\t\taction: '',\n\t\t\tuser: true,\n\t\t\tguest: true,\n\t\t\troles: [],\n\t\t\tcaps: [],\n\t\t};\n\n\t\tthis.state = {\n\t\t\tfront_display_rule: settings.front_display_rule,\n\t\t\t// admin_display_rule: settings.admin_display_rule,\n\t\t\tdisable_user_pref: settings.disable_user_pref,\n\t\t\tauto_hide_show: settings.auto_hide_show,\n\t\t\tremove_wp_logo: settings.remove_wp_logo,\n\t\t\tisSaving: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {}\n\n\trender() {\n\t\tconst {\n\t\t\tfront_display_rule,\n\t\t\tadmin_display_rule,\n\t\t\tdisable_user_pref,\n\t\t\tauto_hide_show,\n\t\t\tremove_wp_logo,\n\t\t\tisSaving,\n\t\t} = this.state;\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<div className=\"dp-admin-page-header\">\n\t\t\t\t\t<div className=\"dp-admin-page-header-container\">\n\t\t\t\t\t\t<h1 className=\"dp-admin-page-title\">\n\t\t\t\t\t\t\t{__('Toolbar Settings', 'dp-toolbar')}\n\t\t\t\t\t\t</h1>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"dp-admin-page-body\">\n\t\t\t\t\t<div className=\"dp-admin-page-content\">\n\t\t\t\t\t\t<Panel>\n\t\t\t\t\t\t\t<PanelBody\n\t\t\t\t\t\t\t\topened={true}\n\t\t\t\t\t\t\t\ttitle={__('General', 'dp-toolbar')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\t\t\t\tlabel={__(\n\t\t\t\t\t\t\t\t\t\t'Remove WP logo from toolbar',\n\t\t\t\t\t\t\t\t\t\t'dp-toolbar'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\tchecked={remove_wp_logo}\n\t\t\t\t\t\t\t\t\tonChange={(remove_wp_logo) => {\n\t\t\t\t\t\t\t\t\t\tthis.setState({ remove_wp_logo });\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t\t\t<PanelBody\n\t\t\t\t\t\t\t\topened={true}\n\t\t\t\t\t\t\t\ttitle={__('Front-end Toolbar', 'dp-toolbar')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<DisplayRule\n\t\t\t\t\t\t\t\t\tlabel={__(\n\t\t\t\t\t\t\t\t\t\t'Front-end Toolbar display rule',\n\t\t\t\t\t\t\t\t\t\t'dp-toolbar'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{...front_display_rule}\n\t\t\t\t\t\t\t\t\tonChange={(rule) => {\n\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\tfront_display_rule: {\n\t\t\t\t\t\t\t\t\t\t\t\t...front_display_rule,\n\t\t\t\t\t\t\t\t\t\t\t\t...rule,\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t{/* <DisplayRule\n                                    // label={__('Admin Toolbar', 'dp-toolbar')}\n                                    {...admin_display_rule}\n                                    onChange={(rule) => {\n                                        this.setState({ admin_display_rule: { ...admin_display_rule, ...rule } })\n                                    }}\n                                /> */}\n\n\t\t\t\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\t\t\t\tlabel={__(\n\t\t\t\t\t\t\t\t\t\t'Force disable Toolbar preference from Edit Profile page',\n\t\t\t\t\t\t\t\t\t\t'dp-toolbar'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\tchecked={disable_user_pref}\n\t\t\t\t\t\t\t\t\tonChange={(disable_user_pref) => {\n\t\t\t\t\t\t\t\t\t\tthis.setState({ disable_user_pref });\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\t\t\t\tlabel={__(\n\t\t\t\t\t\t\t\t\t\t'Automatically hide and show the toolbar',\n\t\t\t\t\t\t\t\t\t\t'dp-toolbar'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\tchecked={auto_hide_show}\n\t\t\t\t\t\t\t\t\tonChange={(auto_hide_show) => {\n\t\t\t\t\t\t\t\t\t\tthis.setState({ auto_hide_show });\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t\t</Panel>\n\n\t\t\t\t\t\t<p className=\"dp-admin-page-save-settings\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tisPrimary\n\t\t\t\t\t\t\t\tisBusy={isSaving}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tthis.setState({ isSaving: true });\n\n\t\t\t\t\t\t\t\t\tconst settings = new api.models.Settings({\n\t\t\t\t\t\t\t\t\t\t['dp_toolbar_settings']: {\n\t\t\t\t\t\t\t\t\t\t\tfront_display_rule,\n\t\t\t\t\t\t\t\t\t\t\tdisable_user_pref,\n\t\t\t\t\t\t\t\t\t\t\tauto_hide_show,\n\t\t\t\t\t\t\t\t\t\t\tremove_wp_logo,\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tsettings\n\t\t\t\t\t\t\t\t\t\t.save()\n\t\t\t\t\t\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\t\t\t\t\t\tthis.setState({ isSaving: false });\n\n\t\t\t\t\t\t\t\t\t\t\tdispatch(\n\t\t\t\t\t\t\t\t\t\t\t\t'core/notices'\n\t\t\t\t\t\t\t\t\t\t\t).createNotice(\n\t\t\t\t\t\t\t\t\t\t\t\t'success',\n\t\t\t\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'Settings saved.',\n\t\t\t\t\t\t\t\t\t\t\t\t\t'dp-toolbar'\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\t\t\t\t\t\t\t\tisDismissible: true,\n\t\t\t\t\t\t\t\t\t\t\t\t\tid: 'save-settings-notice',\n\t\t\t\t\t\t\t\t\t\t\t\t\tactions: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\turl: '/',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'View site'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t\t\t\t\t\t// TODO: Catch error and display for better user experience.\n\t\t\t\t\t\t\t\t\t\t\tconsole.error('Error:', error);\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{isSaving\n\t\t\t\t\t\t\t\t\t? __('Saving', 'dp-toolbar')\n\t\t\t\t\t\t\t\t\t: __('Save Settings', 'dp-toolbar')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Notices />\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\ndomReady(() => {\n\tconst pageWrap = document.getElementById('dp-toolbar-settings-page-wrap');\n\n\tif (pageWrap) {\n\t\trender(<Page />, pageWrap);\n\t}\n});\n"],"names":["domReady","api","__","Button","Panel","PanelBody","SelectControl","SnackbarList","CheckboxControl","FormTokenField","__experimentalHStack","HStack","dispatch","useDispatch","useSelect","Fragment","render","Component","useState","store","noticesStore","Notices","notices","select","getNotices","filter","notice","type","removeNotice","roleOptions","capList","settings","dpAdminBarSettings","roles","option","role","Object","entries","push","label","name","value","concat","keys","capabilities","_","uniq","DisplayRule","onChange","active","action","logged_in","not_logged_in","caps","scope","map","index","includes","state","union","without","Page","constructor","arguments","defaultRule","user","guest","front_display_rule","disable_user_pref","auto_hide_show","remove_wp_logo","isSaving","componentDidMount","admin_display_rule","setState","rule","models","Settings","save","then","res","createNotice","isDismissible","id","actions","url","catch","error","console","pageWrap","document","getElementById"],"sourceRoot":""}